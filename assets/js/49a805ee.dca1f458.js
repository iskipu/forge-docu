"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9074],{5680:(e,n,t)=>{t.d(n,{xA:()=>s,yg:()=>f});var r=t(6540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=r.createContext({}),c=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return r.createElement(u.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=c(t),d=o,f=p["".concat(u,".").concat(d)]||p[d]||g[d]||a;return t?r.createElement(f,i(i({ref:n},s),{},{components:t})):r.createElement(f,i({ref:n},s))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l[p]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9365:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(6540),o=t(53);const a={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,o.A)(a.tabItem,i),hidden:t},n)}},1470:(e,n,t)=>{t.d(n,{A:()=>N});var r=t(8168),o=t(6540),a=t(53),i=t(3104),l=t(6347),u=t(7485),c=t(1682),s=t(9466);function p(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}function g(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=n??p(t);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function d(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,u.aZ)(a),(0,o.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=g(e),[i,l]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[u,c]=f({queryString:t,groupId:r}),[p,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,s.Dv)(t);return[r,(0,o.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),y=(()=>{const e=u??p;return d({value:e,tabValues:a})?e:null})();(0,o.useLayoutEffect)((()=>{y&&l(y)}),[y]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!d({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),m(e)}),[c,m,a]),tabValues:a}}var y=t(2303);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:n,block:t,selectedValue:l,selectValue:u,tabValues:c}=e;const s=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.a_)(),g=e=>{const n=e.currentTarget,t=s.indexOf(n),r=c[t].value;r!==l&&(p(n),u(r))},d=e=>{let n=null;switch(e.key){case"Enter":g(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n)},c.map((e=>{let{value:n,label:t,attributes:i}=e;return o.createElement("li",(0,r.A)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>s.push(e),onKeyDown:d,onClick:g},i,{className:(0,a.A)("tabs__item",h.tabItem,i?.className,{"tabs__item--active":l===n})}),t??n)})))}function v(e){let{lazy:n,children:t,selectedValue:r}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},a.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==r}))))}function k(e){const n=m(e);return o.createElement("div",{className:(0,a.A)("tabs-container",h.tabList)},o.createElement(b,(0,r.A)({},e,n)),o.createElement(v,(0,r.A)({},e,n)))}function N(e){const n=(0,y.A)();return o.createElement(k,(0,r.A)({key:String(n)},e))}},4951:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>u,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var r=t(8168),o=(t(6540),t(5680)),a=t(1470),i=t(9365);const l={description:"How to configure Electron Forge"},u="Overview",c={unversionedId:"config/configuration",id:"config/configuration",title:"Overview",description:"How to configure Electron Forge",source:"@site/docs/config/configuration.md",sourceDirName:"config",slug:"/config/configuration",permalink:"/forge-docu/next/config/configuration",draft:!1,editUrl:"https://github.com/iskipu/forge-docu/edit/main/docs/config/configuration.md",tags:[],version:"current",frontMatter:{description:"How to configure Electron Forge"},sidebar:"tutorialSidebar",previous:{title:"CLI",permalink:"/forge-docu/next/cli"},next:{title:"Plugins",permalink:"/forge-docu/next/config/plugins/"}},s={},p=[{value:"Configuration options",id:"configuration-options",level:2},{value:"Electron Packager config",id:"electron-packager-config",level:3},{value:"Electron Rebuild config",id:"electron-rebuild-config",level:3},{value:"Makers",id:"makers",level:3},{value:"Publishers",id:"publishers",level:3},{value:"Plugins",id:"plugins",level:3},{value:"Hooks",id:"hooks",level:3},{value:"Build identifiers",id:"build-identifiers",level:3}],g={toc:p},d="wrapper";function f(e){let{components:n,...t}=e;return(0,o.yg)(d,(0,r.A)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"overview"},"Overview"),(0,o.yg)("p",null,"Electron Forge configuration is centralized in a single configuration object. You can specify this config in your package.json on the ",(0,o.yg)("inlineCode",{parentName:"p"},"config.forge")," property. This property can have be in one of two forms:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"An object containing your entire Forge configuration."),(0,o.yg)("li",{parentName:"ul"},"A relative path pointing at a JavaScript file that exports your config.")),(0,o.yg)("p",null,"If you do not have ",(0,o.yg)("inlineCode",{parentName:"p"},"config.forge")," set in your package.json file, Forge will attempt to find a ",(0,o.yg)("inlineCode",{parentName:"p"},"forge.config.js")," file in your project root."),(0,o.yg)(a.A,{mdxType:"Tabs"},(0,o.yg)(i.A,{value:"js",label:"forge.config.js",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  packagerConfig: {},\n  makers: [\n    {\n      name: "@electron-forge/maker-zip",\n    },\n  ],\n};\n'))),(0,o.yg)(i.A,{value:"json",label:"package.json",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-app",\n  "version": "0.0.1",\n  "config": {\n    "forge": {\n      "packagerConfig": {},\n      "makers": [\n        {\n          "name": "@electron-forge/maker-zip"\n        }\n      ]\n    }\n  }\n}\n')))),(0,o.yg)("admonition",{type:"info"},(0,o.yg)("p",{parentName:"admonition"},"We recommend using JavaScript for your config file since it enables conditional logic within your configuration.")),(0,o.yg)("h2",{id:"configuration-options"},"Configuration options"),(0,o.yg)(a.A,{mdxType:"Tabs"},(0,o.yg)(i.A,{value:"js",label:"forge.config.js",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  packagerConfig: {\n    /* ... */\n  },\n  rebuildConfig: {\n    /* ... */\n  },\n  makers: [],\n  publishers: [],\n  plugins: [],\n  hooks: {\n    /* ... */\n  },\n  buildIdentifier: "my-build",\n};\n'))),(0,o.yg)(i.A,{value:"json",label:"package.json",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-json"},'// Only the relevant section of package.json is shown, for brevity.\n{\n  "config": {\n    "forge": {\n      "packagerConfig": { ... },\n      "rebuildConfig": { ... },\n      "makers": [ ... ],\n      "publishers": [ ... ],\n      "plugins": [ ... ],\n      "hooks": { ... },\n      "buildIdentifier": "my-build"\n    }\n  }\n}\n')))),(0,o.yg)("admonition",{type:"tip"},(0,o.yg)("p",{parentName:"admonition"},"All properties are optional")),(0,o.yg)("h3",{id:"electron-packager-config"},"Electron Packager config"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"packagerConfig")," on the configuration object maps directly to the options sent to ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/electron/electron-packager"},(0,o.yg)("inlineCode",{parentName:"a"},"electron-packager"))," during the package step of Electron Forge's build process."),(0,o.yg)("p",null,"The options you can put in this object are documented in the ",(0,o.yg)("a",{parentName:"p",href:"https://electron.github.io/packager/main/interfaces/Options.html"},"Electron Packager API docs"),"."),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"You can not override the ",(0,o.yg)("inlineCode",{parentName:"p"},"dir"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"arch"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"platform, out")," or ",(0,o.yg)("inlineCode",{parentName:"p"},"electronVersion")," options as they are set by Electron Forge internally.")),(0,o.yg)("h3",{id:"electron-rebuild-config"},"Electron Rebuild config"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"rebuildConfig")," on the configuration object maps directly to the options sent to ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/electron/electron-rebuild"},(0,o.yg)("inlineCode",{parentName:"a"},"electron-rebuild"))," during both the package and start step of Electron Forge's build process."),(0,o.yg)("p",null,"The options you can put in this object are documented in the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/electron/electron-rebuild#how-can-i-integrate-this-into-grunt--gulp--whatever"},"Electron Rebuild API docs"),"."),(0,o.yg)("admonition",{type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"You can not override the ",(0,o.yg)("inlineCode",{parentName:"p"},"buildPath"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"arch"),", or ",(0,o.yg)("inlineCode",{parentName:"p"},"electronVersion")," options as they are set by Electron Forge internally")),(0,o.yg)("h3",{id:"makers"},"Makers"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"makers")," on the configuration object is an array of maker configurations. Check out the ",(0,o.yg)("a",{parentName:"p",href:"makers/"},"Makers")," documentation for all possible makers and their config options."),(0,o.yg)("h3",{id:"publishers"},"Publishers"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"publishers")," on the configuration object is an array of publisher configurations. Check out the ",(0,o.yg)("a",{parentName:"p",href:"publishers/"},"Publishers")," documentation for all possible publishers and their config options."),(0,o.yg)("h3",{id:"plugins"},"Plugins"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"plugins")," on the configuration object is an array of plugin configurations. Check out the ",(0,o.yg)("a",{parentName:"p",href:"plugins/"},"Plugins")," documentation for all possible plugins and their config options."),(0,o.yg)("h3",{id:"hooks"},"Hooks"),(0,o.yg)("p",null,"The top level property ",(0,o.yg)("inlineCode",{parentName:"p"},"hooks")," on the configuration object is an object containing hooks that can be used to insert custom logic during the build lifecycle."),(0,o.yg)("p",null,"Check out the ",(0,o.yg)("a",{parentName:"p",href:"/forge-docu/next/config/hooks"},"Hooks")," documentation for all possible hooks and their config options."),(0,o.yg)("h3",{id:"build-identifiers"},"Build identifiers"),(0,o.yg)("p",null,"This property can be used to identify different build configurations. Normally, this property is set to the channel the build will release to, or some other unique identifier. For example, common values are ",(0,o.yg)("inlineCode",{parentName:"p"},"prod")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"beta"),". This identifier can be used in conjunction with the ",(0,o.yg)("inlineCode",{parentName:"p"},"fromBuildIdentifier")," function to generate release channel or environment specific configuration. For example:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="forge.config.js"',title:'"forge.config.js"'},'const {\n  utils: { fromBuildIdentifier },\n} = require("@electron-forge/core");\n\nmodule.exports = {\n  buildIdentifier: process.env.IS_BETA ? "beta" : "prod",\n  packagerConfig: {\n    appBundleId: fromBuildIdentifier({ beta: "com.beta.app", prod: "com.app" }),\n  },\n};\n')),(0,o.yg)("p",null,"In this example the ",(0,o.yg)("inlineCode",{parentName:"p"},"appBundleId")," option passed to Electron Packager will be selected based on the ",(0,o.yg)("inlineCode",{parentName:"p"},"buildIdentifer")," based on whether you are building for ",(0,o.yg)("inlineCode",{parentName:"p"},"prod")," or ",(0,o.yg)("inlineCode",{parentName:"p"},"beta"),". This allows you to make shared configs incredibly easily as only the values that change need to be wrapped with this function."))}f.isMDXComponent=!0}}]);